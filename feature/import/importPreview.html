<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script src="../../../../vendor/components/jquery/jquery.js"></script>
	<script> path = "../../../../"; </script>
	<script src="../../js/all.js"></script>
	<style> @import "../../skins/default/all.css"; </style>
	<title>|¦{class_name.display}¦ import|</title>
</head>
<body>
<article class="import preview window" id="/Class/Path/import/preview">
<!--BEGIN-->

	<header>
		<h2>|Import preview|</h2>
	</header>
	<form action="app://(class_name.path)/import/preview" method="post" target="#main">

		<ul class="worksheets">
		<!--worksheets-->
			<li>
				<input type="hidden" name="worksheets[{name}][name]" value="{settings.name}">
				<input type="hidden" name="worksheets[{name}][file]" value="{file.name}">

				<!--errors?-->
				<details class="errors">
					<summary>|There were errors into your file| : |some data could not be imported|</summary>
					<ul>
						<!--errors-->
						<li>{.}</li>
						<!--end-->
					</ul>
				</details>
				<!--end-->

				<ol class="{name} classes properties">
				<!--settings.classes-->
					<li class="block">
						<label>
							|{..settings.getClassName.short}|
							<!--property_path--><span class="property">|{.}|</span><!--end-->
						</label>
						<ol class="constants">
							<!--constants-->
							<li>
								<label>
									{@propertySelect("worksheets[{....name}][classes][..getPropertyPathValue.@escapeName}][constants][{#}][name]")}
								</label>
								<div>
									{@edit("worksheets[....name}][classes][..getPropertyPathValue.@escapeName}][constants][{#}][value]")}
								</div>
								<a class="constant remove submit" href="app://ITRocks/Framework/Feature/Import/preview?constant_remove=(--getPropertyPathValue).(#)" target="#main">
									|Remove constant|
								</a>
							</li>
							<!--end-->
							<li class="add action">
								<a class="submit" href="app://ITRocks/Framework/Feature/Import/preview?constant_add=(#)" target="#main">
									|Add a constant|
								</a>
							</li>
						</ol>
						<section class="identify properties">
							<h3>|Identify|</h3>
							<input type="hidden" name="worksheets[{..name}][classes][{getPropertyPathValue.@escapeName}][identify]" value="{getIdentifyValue}">
							|Identify each !<span>{name.@tr}</span>! by !<ul data-empty="always create a new record"><!--identify_properties--><li class="{name}">{name.@tr}</li><!--end--></ul>!|
							(|must be unique|).
						</section>
						<section class="none">
							<h3>|No match|</h3>
							|If no !<span>{name.@tr}</span>! match|,
							{object_not_found_behaviour.@edit("worksheets[{..name}][classes][{getPropertyPathValue.@escapeName}][object_not_found_behaviour]")}
						</section>
						<section class="write properties">
							<h3>|Write|</h3>
							<input type="hidden" name="worksheets[{..name}][classes][{getPropertyPathValue.@escapeName}][write]" value="{getWriteValue}">
							|Update the value of !<ul data-empty="no value to write"><!--write_properties--><li class="{name}">{name.@tr}</li><!--end--></ul>!|.
						</section>
						<section class="ignore properties">
							<h3>|Ignore|</h3>
							<input type="hidden" name="worksheets[{..name}][classes][{getPropertyPathValue.@escapeName}][ignore]" value="{getIgnoreValue}">
							|Ignore the value of !<ul data-empty="no value is ignored"><!--ignore_properties--><li class="{name}">{name.@tr}</li><!--end--></ul>!|.
						</section>
					</li>
				<!--end-->
				</ol>

				<!--preview-->
				<table class="preview">
					<tr>
						<!--properties-->
						<th title="{?aliases_property.{.}}">{.}</th>
						<!--sample-->
						<th>login</th>
						<th>email</th>
						<!--end-->
					</tr>
					<!--data:{first_row}-{last_row}-->
					<tr>
						<!--.:-{..last_column}-->
						<td>{.}</td>
						<!--sample-->
						<td>baptiste.pillot</td>
						<td>baptiste@pillot.fr</td>
						<!--end-->
					</tr>
					<!--sample-->
					<tr>
						<td>line 2</td>
						<td>jon.snow</td>
						<td>jon@snow.re</td>
					</tr>
					<!--end-->
				</table>
				<!--end-->

			</li>
		<!--end-->
		</ul>

		<p class="warning">
			|Once you have verified above settings|, |you can|
			<a class="import execute action submit" href="app://(class_name.path)/import/execute" target="#{class_name.path.idTag}-import-execute">
				|Execute import|
			</a>
		</p>

	</form>

<!--END-->
</article>
</body>
</html>
