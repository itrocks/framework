<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>|Import ¦{class_name.display}¦|</title>
    <script> path = "../../"; </script>
	<script src="../../../vendor/jquery/jquery-1.8.3.js"></script>
    <script src="../main/js/all.js"></script>
    <style type="text/css">
        @import "../skins/default/all.css";
    </style>
</head>
<body>
<!--BEGIN-->

	<form action="/{class_name.path}/import/preview" class="{class_name.short.lower} import preview window" id="/{class_name.path}/import/preview" method="post" target="#main">
		<h2>|Import preview|</h2>

		<!--worksheets-->
		<fieldset class="worksheet">
			<input type="hidden" name="worksheets[{name}][name]" value="{settings.name}">
			<input type="hidden" name="worksheets[{name}][file]" value="{file.name}">

			<!--errors?-->
			<div class="errors">
				<h3>|There were errors into your file : some data could not be imported|</h3>
				<ul>
					<!--errors-->
					<li>{.}</li>
					<!--end-->
				</ul>
			</div>
			<!--end-->

			<!--settings.classes-->
			<fieldset class="{name} class">
				<h3>
					|{--settings.getClassName.short}|
					<!--property_path?-->:<!--end-->
					<!--property_path--><span class="property">|{.}|</span><!--end-->
				</h3>
				<fieldset class="constants">
					<!--constants-->
					<div>
						<label>{@propertySelect("worksheets[{----name}][classes][{--getPropertyPathValue.@escapeName}][constants][{#}][name]")}</label>
						<div>{@edit("worksheets[{----name}][classes][{--getPropertyPathValue.@escapeName}][constants][{#}][value]")}</div>
						<a class="constant remove submit" href="/ITRocks/Framework/Feature/Import/preview?constant_remove={--getPropertyPathValue}.{#}" target="#main">
							|Remove constant|
						</a>
					</div>
					<!--end-->
					<a class="constant add submit action" href="/ITRocks/Framework/Feature/Import/preview?constant_add={#}" target="#main">
						|Add a constant|
					</a>
				</fieldset>
				<fieldset class="identify properties">
					<input type="hidden" name="worksheets[{--name}][classes][{getPropertyPathValue.@escapeName}][identify]" value="{getIdentifyValue}">
					Identifie chaque <span>|{name}|</span> par
					<ul><!--identify_properties--><li class="{name}">|{name}|</li><!--end--></ul>
					(doit être unique).
				</fieldset>
				<fieldset class="none">
					Si aucun <span>|{name}|</span> ne correspond,
					{object_not_found_behaviour.@edit("worksheets[{--name}][classes][{getPropertyPathValue.@escapeName}][object_not_found_behaviour]")}
				</fieldset>
				<fieldset class="write properties">
					<input type="hidden" name="worksheets[{--name}][classes][{getPropertyPathValue.@escapeName}][write]" value="{getWriteValue}">
					Met à jour la valeur de
					<ul><!--write_properties--><li class="{name}">|{name}|</li><!--end--></ul>.
				</fieldset>
				<fieldset class="ignore properties">
					<input type="hidden" name="worksheets[{--name}][classes][{getPropertyPathValue.@escapeName}][ignore]" value="{getIgnoreValue}">
					Ignore la valeur de
					<ul><!--ignore_properties--><li class="{name}">|{name}|</li><!--end--></ul>
				</fieldset>
			</fieldset>
			<!--end-->

			<!--preview-->
			<table class="preview">
				<tr><!--properties--><th title="{?aliases_property.{.}}">{.}</th><!--end--></tr>
				<!--data:{first_row}-{last_row}-->
				<tr><!--.:-{--last_column}--><td>{.}</td><!--end--></tr>
				<!--end-->
			</table>
			<!--end-->

		</fieldset>
		<!--end-->

		<p class="warning">
			<span>Une fois vérifiés les réglages ci-dessus, vous pouvez</span>
			<a class="import execute action submit" href="/{class_name.path}/import/execute" target="#import_execute">|Execute import|</a>
		</p>

	</form>

	<section id="import_execute">
	</section>

<!--END-->
</body>
</html>
